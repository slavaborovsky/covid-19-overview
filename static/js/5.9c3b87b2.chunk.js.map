{"version":3,"sources":["pages/CountryView/styles.module.scss","pages/CountryView/index.jsx"],"names":["module","exports","CountryView","query","useQuery","useState","selectedCountry","setSelectedCountry","requestedCountry","setRequestedCountry","useSWR","getInfectedCountries","countriesList","data","countriesListError","error","useEffect","nextRequestedCountry","get","countryFromUrl","find","iso3","renderError","className","classNames","styles","gridContainer","gridItem","countries","selected","onSelect","country","countryIso3Code"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,cAAgB,gC,sLCQrBC,EAAc,WAC1B,IAAMC,EAAQC,cADkB,EAGcC,mBAAS,MAHvB,mBAGzBC,EAHyB,KAGRC,EAHQ,OAIgBF,mBAAS,MAJzB,mBAIzBG,EAJyB,KAIPC,EAJO,OAM2BC,YAAO,aAAcC,KAAlEC,EANkB,EAMxBC,KAA4BC,EANJ,EAMHC,MAE7BC,qBAAU,WACT,IAAMC,EAAuBd,EAAMe,IAAI,QACvC,GAAIN,GAAiBJ,IAAqBS,EAAsB,CAC/DR,EAAoBQ,GAEpB,IAAME,EAAiBP,EAAcQ,MAAK,qBAAGC,OAAoBJ,KAC7DE,GACHZ,EAAmBY,MAGnB,CAACP,EAAeT,EAAOK,IAE1B,IAAMc,EAAc,wBAAIC,UAAU,2CAAd,2BAEpB,OACC,yBAAKA,UAAU,6BACbT,EACAQ,EACGV,EACH,yBACCW,UAAWC,IAAWC,IAAOC,cAAe,gEAE5C,yBAAKH,UAAWC,IAAWC,IAAOE,SAAU,8DAC3C,kBAAC,IAAD,CACCC,UAAWhB,EACXiB,SAAUvB,EACVwB,SAAU,SAACC,GAAD,OAAaxB,EAAmBwB,OAG5C,yBAAKR,UAAWC,IAAWC,IAAOE,SAAU,kCAC3C,kBAAC,IAAD,CAAqBK,gBAAiB1B,EAAkBA,EAAgBe,KAAO,QAEhF,yBAAKE,UAAWC,IAAWC,IAAOE,SAAU,kCAC3C,kBAAC,IAAD,CAAmBK,gBAAiB1B,EAAkBA,EAAgBe,KAAO,SAG5E,OAKQnB","file":"static/js/5.9c3b87b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"styles_gridContainer__378ww\"};","import React, { useState, useEffect } from 'react';\nimport useSWR from 'swr';\nimport classNames from 'classnames';\nimport { CountryPicker, MemoizedCountryInfo, CountryDailyChart } from '../../components';\nimport { useQuery } from '../../utils/custom-hooks';\nimport { getInfectedCountries } from '../../utils/api';\n\nimport styles from './styles.module.scss';\n\nexport const CountryView = () => {\n\tconst query = useQuery();\n\n\tconst [selectedCountry, setSelectedCountry] = useState(null);\n\tconst [requestedCountry, setRequestedCountry] = useState(null);\n\n\tconst { data: countriesList, error: countriesListError } = useSWR('countryLst', getInfectedCountries);\n\n\tuseEffect(() => {\n\t\tconst nextRequestedCountry = query.get('iso3');\n\t\tif (countriesList && requestedCountry !== nextRequestedCountry) {\n\t\t\tsetRequestedCountry(nextRequestedCountry);\n\n\t\t\tconst countryFromUrl = countriesList.find(({ iso3 }) => iso3 === nextRequestedCountry);\n\t\t\tif (countryFromUrl) {\n\t\t\t\tsetSelectedCountry(countryFromUrl);\n\t\t\t}\n\t\t}\n\t}, [countriesList, query, requestedCountry]);\n\n\tconst renderError = <h3 className=\"text-2xl text-error text-center my-auto\">Error loading countries</h3>;\n\n\treturn (\n\t\t<div className=\"flex-auto overflow-y-auto\">\n\t\t\t{countriesListError ? (\n\t\t\t\trenderError\n\t\t\t) : countriesList ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(styles.gridContainer, 'grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-full px-16 py-8')}\n\t\t\t\t>\n\t\t\t\t\t<div className={classNames(styles.gridItem, 'grid col-span-1 lg:col-span-3 justify-center items-center')}>\n\t\t\t\t\t\t<CountryPicker\n\t\t\t\t\t\t\tcountries={countriesList}\n\t\t\t\t\t\t\tselected={selectedCountry}\n\t\t\t\t\t\t\tonSelect={(country) => setSelectedCountry(country)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classNames(styles.gridItem, 'grid col-span-1 lg:col-span-1')}>\n\t\t\t\t\t\t<MemoizedCountryInfo countryIso3Code={selectedCountry ? selectedCountry.iso3 : null} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classNames(styles.gridItem, 'grid col-span-1 lg:col-span-2')}>\n\t\t\t\t\t\t<CountryDailyChart countryIso3Code={selectedCountry ? selectedCountry.iso3 : null} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nexport default CountryView;\n"],"sourceRoot":""}