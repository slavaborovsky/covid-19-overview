{"version":3,"sources":["utils/custom-hooks/use-query.js","pages/GlobalDashboard/index.jsx"],"names":["useQuery","search","useLocation","URLSearchParams","TotalsDashboard","useSWR","totalsData","data","totalsError","error","useCountriesData","countriesData","updatedAt","countriesError","useState","topCount","globalDataError","className","renderLastUpdateAt","toLocaleTimeString","toLocaleDateString","renderTopListError","countryLink","country","iso3","to","header","renderCount","cases","Fragment","start","end","duration","separator","renderList","sortedByCases","slice","map","key","todayCases","deaths","sortedByDeaths","todayDeaths","recovered","sortedByRecovers","critical"],"mappings":"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","file":"static/js/4.ee7cccec.chunk.js","sourcesContent":["import { useLocation } from 'react-router-dom';\n\nexport const useQuery = () => {\n\tconst { search } = useLocation();\n\treturn new URLSearchParams(search);\n};\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport CountUp from 'react-countup';\nimport useSWR from 'swr';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\n\nimport { Card } from '../../components';\nimport { useCountriesData } from '../../utils/custom-hooks';\n\nconst TotalsDashboard = () => {\n\tconst { data: totalsData, error: totalsError } = useSWR('all');\n\tconst { data: countriesData, updatedAt, error: countriesError } = useCountriesData();\n\n\tconst [topCount] = useState(10);\n\n\tconst globalDataError = <p className=\"text-error text-2xl\">Global data error!</p>;\n\n\tconst renderLastUpdateAt = (\n\t\t<p className=\"text-sm opacity-60 text-default mb-4\">\n\t\t\tLast update: {updatedAt.toLocaleTimeString()} {updatedAt.toLocaleDateString()}\n\t\t</p>\n\t);\n\n\tconst renderGlobalConfirmedCases = () => {\n\t\tif (totalsError) {\n\t\t\treturn globalDataError;\n\t\t}\n\n\t\tif (totalsData && totalsData.cases) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<p className=\"text-warning text-2xl\">\n\t\t\t\t\t\t<CountUp start={0} end={totalsData.cases} duration={1.5} separator=\",\" />\n\t\t\t\t\t</p>\n\t\t\t\t\t{renderLastUpdateAt}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn <p className=\"text-base text-on-card\">Loading cases...</p>;\n\t};\n\n\tconst renderGlobalDeathsCases = () => {\n\t\tif (totalsError) {\n\t\t\treturn globalDataError;\n\t\t}\n\n\t\tif (totalsData && totalsData.deaths) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<p className=\"text-error text-2xl\">\n\t\t\t\t\t\t<CountUp start={0} end={totalsData.deaths} duration={1.5} separator=\",\" />\n\t\t\t\t\t</p>\n\t\t\t\t\t{renderLastUpdateAt}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn <p className=\"text-base text-on-card\">Loading deaths...</p>;\n\t};\n\n\tconst renderGlobalRecoveredCases = () => {\n\t\tif (totalsError) {\n\t\t\treturn globalDataError;\n\t\t}\n\n\t\tif (totalsData && totalsData.recovered) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<p className=\"text-success text-2xl\">\n\t\t\t\t\t\t<CountUp start={0} end={totalsData.recovered} duration={1.5} separator=\",\" />\n\t\t\t\t\t</p>\n\t\t\t\t\t{renderLastUpdateAt}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn <p className=\"text-base text-on-card\">Loading recovers...</p>;\n\t};\n\n\tconst renderTopListError = <p className=\"text-error text-base\">Top data list error!</p>;\n\n\tconst countryLink = ({ country, iso3 }) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/countries?iso3=${iso3}`}\n\t\t\t\tclassName=\"text-2xl text-default cursor-pointer hover:underline hover:font-semibold\"\n\t\t\t>\n\t\t\t\t{country}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\tconst renderTopFiveConfirmedCountries = () => {\n\t\tif (countriesError) {\n\t\t\treturn renderTopListError;\n\t\t}\n\n\t\tif (countriesData && countriesData.sortedByCases) {\n\t\t\treturn (\n\t\t\t\t<List>\n\t\t\t\t\t{countriesData.sortedByCases.slice(0, topCount).map((data) => (\n\t\t\t\t\t\t<ListItem className=\"border shadow-inner border-default px-4 py-2 flex flex-col\" key={data.country}>\n\t\t\t\t\t\t\t{countryLink(data)}\n\t\t\t\t\t\t\t<p className=\"text-center break-all\">\n\t\t\t\t\t\t\t\t<span className=\"text-base text-warning whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tTotal: <CountUp start={0} end={data.cases} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"mx-2 text-default\">|</span>\n\t\t\t\t\t\t\t\t<span className=\"text-base text-warning whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tToday: <CountUp start={0} end={data.todayCases} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tconst renderTopFiveDeathsCountries = () => {\n\t\tif (countriesError) {\n\t\t\treturn renderTopListError;\n\t\t}\n\n\t\tif (countriesData && countriesData.sortedByDeaths) {\n\t\t\treturn (\n\t\t\t\t<List>\n\t\t\t\t\t{countriesData.sortedByDeaths.slice(0, topCount).map((data) => (\n\t\t\t\t\t\t<ListItem className=\"border shadow-inner border-primary-300 px-4 py-2 flex flex-col\" key={data.country}>\n\t\t\t\t\t\t\t{countryLink(data)}\n\t\t\t\t\t\t\t<p className=\"text-center break-all\">\n\t\t\t\t\t\t\t\t<span className=\"text-base text-error whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tTotal: <CountUp start={0} end={data.deaths} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"mx-2 text-default\">|</span>\n\t\t\t\t\t\t\t\t<span className=\"text-base text-error whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tToday: <CountUp start={0} end={data.todayDeaths} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tconst renderTopFiveRecoversCountries = () => {\n\t\tif (countriesError) {\n\t\t\treturn renderTopListError;\n\t\t}\n\n\t\tif (countriesData && countriesData.sortedByRecovers) {\n\t\t\treturn (\n\t\t\t\t<List>\n\t\t\t\t\t{countriesData.sortedByRecovers.slice(0, topCount).map((data) => (\n\t\t\t\t\t\t<ListItem className=\"border shadow-inner border-primary-300 px-4 py-2 flex flex-col\" key={data.country}>\n\t\t\t\t\t\t\t{countryLink(data)}\n\t\t\t\t\t\t\t<p className=\"text-center break-all\">\n\t\t\t\t\t\t\t\t<span className=\"text-base text-success whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tTotal: <CountUp start={0} end={data.recovered} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"mx-2 text-default\">|</span>\n\t\t\t\t\t\t\t\t<span className=\"text-base text-error whitespace-no-wrap\">\n\t\t\t\t\t\t\t\t\tCritical: <CountUp start={0} end={data.critical} duration={1.5} separator=\",\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\treturn (\n\t\t<div className=\"flex-auto overflow-y-auto\">\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-12 xl:gap-16 py-12 px-16 text-center\">\n\t\t\t\t<Card header=\"Infected\">\n\t\t\t\t\t{{\n\t\t\t\t\t\trenderCount: renderGlobalConfirmedCases,\n\t\t\t\t\t\trenderList: renderTopFiveConfirmedCountries,\n\t\t\t\t\t}}\n\t\t\t\t</Card>\n\n\t\t\t\t<Card header=\"Deaths\">\n\t\t\t\t\t{{\n\t\t\t\t\t\trenderCount: renderGlobalDeathsCases,\n\t\t\t\t\t\trenderList: renderTopFiveDeathsCountries,\n\t\t\t\t\t}}\n\t\t\t\t</Card>\n\n\t\t\t\t<Card header=\"Recovered\">\n\t\t\t\t\t{{\n\t\t\t\t\t\trenderCount: renderGlobalRecoveredCases,\n\t\t\t\t\t\trenderList: renderTopFiveRecoversCountries,\n\t\t\t\t\t}}\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TotalsDashboard;\n"],"sourceRoot":""}